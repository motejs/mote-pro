<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Doba用户旅程</title>
  </head>
  <body>
    <div id="root"></div>
    <!-- 处理intl报错：Uncaught ReferenceError: global is not defined -->
    <script>const global = globalThis;</script>
    <script type="module" src="/src/main.tsx"></script>
    <!-- sensorsCode -->
    <script>
      (function(para) {
        var p = para.sdk_url, n = para.name, w = window, d = document, s = 'script',x = null,y = null;
        if(typeof(w['sensorsDataAnalytic201505']) !== 'undefined'){return false;}
        w['sensorsDataAnalytic201505'] = n;
        w[n] = w[n] || function(a) {
            return function() {(w[n]._q = w[n]._q || []).push([a, arguments]);
          }
        };
        var ifs = ['track','quick','register','registerPage','registerOnce','trackSignup', 'trackAbtest', 'setProfile','setOnceProfile','appendProfile', 'incrementProfile', 'deleteProfile', 'unsetProfile', 'identify','login','logout','trackLink','clearAllRegister','getAppStatus'];
        for (var i = 0; i < ifs.length; i++) {w[n][ifs[i]] = w[n].call(null, ifs[i]);
        }if(!w[n]._t) {
          x = d.createElement(s), y = d.getElementsByTagName(s)[0];
          x.async = 1;x.src = p;x.setAttribute('charset','UTF-8');
          w[n].para = para;
          y.parentNode.insertBefore(x, y);}
      })({
          source_channel:['gclid'],
          sdk_url: '//crov.micstatic.com/gb/js/libs/sensors/sensorsdata.min-1.15.4.js',
          heatmap_url: '//crov.micstatic.com/gb/js/libs/sensors/heatmap.min-1.15.4.js',
          name: 'sensors',
          server_url: 'https://fa.micstatic.com/sc/sa.gif?project=<%= sensorsProject %>',
          heatmap:{scroll_notice_map:'default'},
          preset_properties:{latest_referrer_host:true},
          is_track_single_page:true,
          show_log: false
      });
      sensors.registerPage({
        platform_type:"crov",
        cb_username: function(){
          let userDom = document.querySelector('#cb_username')
          if(userDom){
            return userDom.value
          }else{
            return ''
          }
        }
      })
      sensors.quick('autoTrack');
    </script>
    <!-- sensorsCode End -->
  </body>
</html>
